accum_steps: 8
allow_tf32: true
attn_backend: sdpa
batch_size: 448
d_lex: 192
d_lex_emb: 512
dev_eval_every_epochs: 0.2
dev_eval_sample: 400
dev_tsv: data/processed/dev.tsv
dtype: bf16
early_stop_min_delta: 0.0001
early_stop_patience: 3
ema: 0.0
epochs: 20
export_after_train: true
export_demo_query: "Show me photos of Leo's first birthday"
export_demo_topk: 5
export_file: null
export_from: train
export_include_negs: true
export_out_dir: models/memories_retriever
faiss_hnsw_efc: 200
faiss_hnsw_m: 64
faiss_search_efs: 256
fp16: false
grad_ckpt: true
heads: 8
inbatch_negs: false
lambda_distill: 0.0
lambda_ent: 0.0015
lambda_lex: 0.25
lambda_ortho: 0.001
lambda_ret: 1.0
late_interaction: true
log_every: 50
lr: 0.005
lr_schedule: cosine
m_teacher: 768
margin_lex: 0.25
max_grad_norm: 1.0
max_len: 512
max_train_rows: null
neg_per_sample: 7
num_workers: 2
output_dir: runs/memories_retriever
rank: 256
resume: finetune/longmatrix.pt
seed: 42
shuffle_before_split: true
teacher: sentence-transformers/all-MiniLM-L6-v2
teacher_bs: 256
temp: 0.05
tokenizer: sentence-transformers/all-MiniLM-L6-v2
topk_d: 1
topk_q: 4
torch_compile: false
train_tsv: data/processed/train.tsv
val_ratio: 0.02
wandb: false
# wandb_mode: online
# wandb_project: memories-retriever
# wandb_run: memories_v1
wandb_table_samples: 8
warmup_steps: 1500
weight_decay: 0.01
